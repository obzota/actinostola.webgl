<!DOCTYPE html>
<html>
<head>
	<title>First webgl</title>

	<script type="x-shader/x-fragment" id='frag_shader'>
		precision mediump float;

		uniform vec3 u_PositionEye;
		uniform vec3 u_PositionLux;

		varying vec4 v_Color;
		varying vec3 v_Normal;
		varying vec3 v_Position;

		void main(void) {
			vec3 posLux = vec3(0, 0, 10);
			vec3 posEye = vec3(10, 10, 10);

			vec3 L = normalize(posLux - v_Position);
			vec3 V = normalize(posEye - v_Position);
			vec3 N = normalize(v_Normal);
			vec3 R = 2.0 * dot(N, L) * N - L;

			vec3 ia = vec3(1.0, 1.0, 1.0) * 0.30;
			vec3 id = vec3(1.0, 1.0, 1.0) * 0.45;
			vec3 is = vec3(1.0, 1.0, 1.0) * 0.5;

			float lambertian = max(dot(L,N), 0.0);
			float specular = 0.0;
			if (lambertian > 0.0) {
				specular = pow(max(0.0, dot(V,R)), 27.0);
			}
			vec3 color = ia + lambertian * id + specular * is;

			gl_FragColor = v_Color * vec4(color, 1.0);
			gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
		}
	</script>

	<script type="x-shader/x-vertex" id='vert_shader'>
		attribute vec3 a_Position;
		attribute vec3 a_Normal;

		uniform vec4 u_Color;
		uniform mat4 u_Projection;
		uniform mat4 u_Camera;

		varying vec4 v_Color;
		varying vec3 v_Normal;
		varying vec3 v_Position;

		void main(void) {
			gl_Position = u_Projection * u_Camera * vec4(a_Position, 1.0);
			v_Color = u_Color;
			v_Normal = a_Normal;
			v_Position = a_Position;
		}
	</script>

	<script type="x-shader/x-vertex" id="line_vertex_shader">
		attribute vec3 a_Position;

		uniform mat4 u_Projection;
		uniform mat4 u_Camera;

		varying vec4 v_color;

		void main(void) {
			gl_Position = u_Projection * u_Camera * vec4(a_Position, 1.0);
			v_color = vec4(1.0, 1.0, 1.0, 1.0);
		}
	</script>

	<script type="x-shader/x-fragment" id="line_fragment_shader">
		precision mediump float;

		varying vec4 v_color;

		void main(void) {
			gl_FragColor = v_color;
		}
	</script>

</head>
<body onload="main()" onresize="resize()">
	<canvas id="glcanvas">
		Your browser doesn't appear to support the HTML5 <code>&lt;canvas&gt;</code> element.
	</canvas>
<!-- External library -->
	<script type="text/javascript" src="js/lib/gl-matrix-min.js"></script>
	<script type="text/javascript" src="js/lib/bezier.js"></script>

<!-- Owned files -->
	<script src="js/camera_and_projection.js" type='text/javascript'></script>
	<script src="js/program_setup.js" type='text/javascript'></script>
	<script src="js/main.js" type='text/javascript'></script>
	<script src="js/object_builder.js" type='text/javascript'></script>
	<script src="js/drawers.js" type='text/javascript'></script>
	<script src="js/color_generator.js" type='text/javascript'></script>

	<script src="js/line_generator.js" type='text/javascript'></script>
	<script src="js/point_generator.js" type='text/javascript'></script>



<!-- json data as JS-->
	<script src="js/data.js" type='text/javascript'></script>

<!-- Objects generated from .obj files -->
	<script src="objects/icosphere.js" type='text/javascript'></script>
	<script src="objects/cube.js" type='text/javascript'></script>
	<script src="objects/torus.js" type='text/javascript'></script>
	<script src="objects/sphere.js" type='text/javascript'></script>

</body>
</html>
